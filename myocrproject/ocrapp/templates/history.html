{% extends 'base.html' %}{% load static %} {% block content %}
<section id="hero" class="hero">
    <img src="{% static 'assets/img/hero-bg-history.jpg' %}" alt="" data-aos="fade-in">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12">
                <h2 class="text-center text-uppercase font-weight-bold">Scanned Image History</h2>
            </div>
        </div>

        <div class="row">
            {% for data in image_data %}
            <div class="col-md-4 mb-4 d-flex align-items-stretch">
                <div class="card text-white bg-dark">
                    <div class="card-img-top" style="background-image: url('{{ data.image_url }}'); background-size: cover; background-position: center; height: 200px;" onclick="openImage('{{ data.image_url }}')"></div>
                    <div class="card-body d-flex flex-column">
                        <a href="{{ data.image_url }}" download class="btn mt-auto" style="color: var(--contrast-color);
                        background: var(--accent-color);
                        font-size: 14px;
                        padding: 8px 26px;
                        margin: 0;
                        border-radius: 4px;
                        transition: 0.3s;
                    ">Download Image</a> {% if data.text_url %}
                        <a href="{{ data.text_url }}" download class="btn btn-custom-color mt-2" style="color: var(--contrast-color);
                        background: var(--accent-color);
                        font-size: 14px;
                        padding: 8px 26px;
                        margin: 0;
                        border-radius: 4px;
                        transition: 0.3s;
                    ">Download Text Data</a> {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

</section>
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="imageModalLabel">Scanned Image</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                <img id="modalImage" src="" class="img-fluid" alt="Scanned Image" style="
                max-width: 100%;
                max-height: 500px;
                object-fit: contain;
                margin: auto;
                display: block;
            ">

            </div>
        </div>
    </div>
</div>

<script>
    function openImage(url) {
        document.getElementById('modalImage').src = url;
        $('#imageModal').modal('show');
    }
</script>
{% endblock %}